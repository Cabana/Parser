var split;
split=split||function(f){var a=String.prototype.split,b=/()??/.exec("")[1]===f,c;c=function(d,e,c){if("[object RegExp]"!==Object.prototype.toString.call(e))return a.call(d,e,c);var h=[],k=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),l=0;e=RegExp(e.source,k+"g");var m,g,n;d+="";b||(m=RegExp("^"+e.source+"$(?!\\s)",k));for(c=c===f?4294967295:c>>>0;g=e.exec(d);){k=g.index+g[0].length;if(k>l&&(h.push(d.slice(l,g.index)),!b&&1<g.length&&g[0].replace(m,function(){for(var a=1;a<
arguments.length-2;a++)arguments[a]===f&&(g[a]=f)}),1<g.length&&g.index<d.length&&Array.prototype.push.apply(h,g.slice(1)),n=g[0].length,l=k,h.length>=c))break;e.lastIndex===g.index&&e.lastIndex++}l===d.length?(n||!e.test(""))&&h.push(""):h.push(d.slice(l));return h.length>c?h.slice(0,c):h};String.prototype.split=function(a,b){return c(this,a,b)};return c}();
(function(){Array.prototype.clean=function(f){var a;for(a=0;a<this.length;)this[a]===f&&(this.splice(a,1),a--),a++;return this};String.prototype.wrapInBraces=function(){return this.replace(/^/,"{").replace(/$/,"}")};String.prototype.replaceSquareBracketsWithBraces=function(){return this.replace(/\[/g,"{").replace(/\]/g,"}")};String.prototype.removeWhitespace=function(){return this.replace(/\s+/g,"")};this.Parser=function(){function f(a){this.defaults=a}f.prototype.parse=function(a){var b;b={};if(""===
a)return b;a=this._prepareString(a);return this._toJSON(a)};f.prototype.addDefaultValue=function(a,b){this.defaults||(this.defaults={});return this.defaults[a]=b};f.prototype._prepareString=function(a){a=a.removeWhitespace();this.defaults&&(a=this._applyOptionValues(a));a=this._setUndefinedValues(a);return a=this._wrapWordsInQuotes(a)};f.prototype._applyOptionValues=function(a){var b,c,d,e,f;c="";a=this._splitIntoWords(a);b=e=0;for(f=a.length;e<f;b=++e)d=a[b],b=a[b+1],this.defaults[d]&&":"!==b&&(d+=
":"+this.defaults[d]),c+=d;return c};f.prototype._setUndefinedValues=function(a){var b,c,d,e,f,h;d=this._splitIntoWords(a);b=f=0;for(h=d.length;f<h;b=++f)if(e=d[b],a=d[b+1],c=d[b-1],/\]+/.test(a)&&":"!==c||","===a||void 0===a&&!/\]+/.test(e))d[b]+=":undefined";a=d.join("");b="";e=a.split(/(\[|,|\])/);c=0;for(d=e.length;c<d;c++)a=e[c],/.*:.*:.*/.test(a)&&(a=a.replace(":undefined","")),b+=a;return b};f.prototype._splitIntoWords=function(a){return split(a,/(:\[?|\]+,?|,)/).clean("")};f.prototype._wrapWordsInQuotes=
function(a){var b,c,d,e;b=this._splitIntoWords(a);a=d=0;for(e=b.length;d<e;a=++d)c=b[a],":"===c||(/\]+/.test(c)||":["===c||","===c)||(/^\d+$/.test(c)?b[a]=parseInt(c):b[a]="true"===c?!0:"false"===c?!1:'"'+c+'"');return b.join("")};f.prototype._toJSON=function(a){/\.*:\.*/.test(a)||(a+=':"undefined"');a=a.replaceSquareBracketsWithBraces().wrapInBraces();a=a.replace(/\\/g,"\\\\");return JSON.parse(a)};return f}()}).call(this);
